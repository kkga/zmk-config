/*                KEY POSITIONS
  ╭────────────────────╮ ╭────────────────────╮
  │  0   1   2   3   4 │ │  5   6   7   8   9 │
  │ 10  11  12  13  14 │ │ 15  16  17  18  19 │
  │ 20  21  22  23  24 │ │ 25  26  27  28  29 │
  ╰───────────╮ 30  31 │ │ 32  33 ╭───────────╯
              ╰────────╯ ╰────────╯            */

compatible = "zmk,combos";

#define COMBO(NAME, BINDINGS, KEYPOS, LAYERS, TERM) \
  combo_##NAME { \
    timeout-ms = <TERM>; \
    bindings = <BINDINGS>; \
    key-positions = <KEYPOS>; \
    layers = <LAYERS>; \
  };

// Firmware
// outer column + non-homing thumb
COMBO(reset_left,      &reset,             0 10 20, QWR CLM, 60)
COMBO(reset_right,     &reset,             9 19 29, QWR CLM, 60)
COMBO(boot_left,       &bootloader,     30 0 10 20, QWR CLM, 60)
COMBO(boot_right,      &bootloader,     33 9 19 29, QWR CLM, 60)

// Big keys
// home row
COMBO(esc,             &kp ESC,              11 12, QWR CLM, 40)
COMBO(tab,             &kp TAB,              12 13, QWR CLM, 40)
COMBO(ret,             &kp RET,              16 17, QWR CLM, 40)
COMBO(bspc,            &kp BSPC,             17 18, QWR CLM, 40)

// Brackets
// index finger + homing thumb
COMBO(left_bracket,    &kp LBKT,             31  3, QWR CLM, 40)
COMBO(left_paren,      &kp LPAR,             31 13, QWR CLM, 40)
COMBO(left_brace,      &kp LBRC,             31 23, QWR CLM, 40)
COMBO(less_than,       &kp LT,               31 24, QWR CLM, 40)
COMBO(right_bracket,   &kp RBKT,             32  6, QWR CLM, 40)
COMBO(right_paren,     &kp RPAR,             32 16, QWR CLM, 40)
COMBO(right_brace,     &kp RBRC,             32 26, QWR CLM, 40)
COMBO(greater_than,    &kp GT,               32 25, QWR CLM, 40)

// Text processing
// ext layer
COMBO(capswd,          &caps_word,           13 16,     EXT, 60)
COMBO(copy_mac,        &kp LG(C),            21 22,     EXT, 40)
COMBO(paste_mac,       &kp LG(V),            22 23,     EXT, 40)
COMBO(cut_mac,         &kp LG(X),            21 23,     EXT, 40)

// System
// ext layer
COMBO(launch_mac,      &kp LG(SPACE),     11 12 13,     EXT, 40)
COMBO(back_mac,        &kp LG(LBKT),          1  2,     EXT, 40)
COMBO(fwd_mac,         &kp LG(RBKT),          3  4,     EXT, 40)
COMBO(menu_search,     &kp LG(LS(SLASH)),    27 28,     EXT, 40)

// Symbols
// above/below home row
COMBO(colon,           &kp COLON,             6  7, QWR CLM, 40)
COMBO(equal,           &kp EQUAL,          6  7  8, QWR CLM, 40)
COMBO(under,           &kp UNDER,             7  8, QWR CLM, 40)
COMBO(bslsh,           &kp BSLH,             27 28, QWR CLM, 40)
COMBO(pipe,            &kp PIPE,          27 28 29, QWR CLM, 40)

// Numpad symbols
// num layer
COMBO(num_comma,       &kp COMMA,            26 27,     NUM, 40)
COMBO(num_dot,         &kp DOT,              27 28,     NUM, 40)

// vim:ft=c
